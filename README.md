# 직방 매물 탐색 시 주변 편의시설 안내 서비스

![start](https://user-images.githubusercontent.com/80507275/126037011-c9411dc6-7a8c-45b0-8e0d-19ec4852ed69.jpg)


## 1 개요 
### 1-1 프로젝트 선정 동기 와 목적 
직방 어플리케이션 및 웹사이트를 이용하여 매물 탐색 시 사용자는 해당 지역의 환경을 고려하게 된다. 이 때 식당, 카페, PC방, 백화점, 영화관, 공원 등 각종 편의시설의 개수와 그중 대표 시설의 상효명은 그 판단기준이 된다. ‘역세권’뿐만 아니라 ‘스세권’ (역세권과 같이 거주지가 스타벅스 근처임을 의미)이라는 용어가 등장한 것은 이의 대표적인 예시이다. 
편의시설 간의 거리가 있어 비교적 한적한 분위기를 띄는 곳도 있는 반면, 편의시설이 다수 갖추어져 있지만 주류판매점이 유독 많아 인근 분위기가 생각과는 다른 경우도 존재한다. 편의시설의 종류와 개수가 해당 지역의 환경을 구성하는 것이다. 

최근 이사를 앞두고 직방 어플리케이션을 이용하여 여러 지역의 매물을 탐색하였다. 다만 본래 거주지였던 곳을 벗어나 타 지역으로 이사하고자 하니, 각 매물마다 주변의 특성을 파악하는데 어려움을 겪었다. 이용 과정 중 어려을 느낀 시점은 다음과 같다:
1. 상기 이미지와 같이 매물별로 페이지 하단에 카카오 지도가 첨부되어 있으며 로드뷰보기가 가능하다 
2. 그러나 지도에는 몇몇의 상호명만 기입되어 있을 뿐, 해당 지역 편의시설의 종류별 개수와 그 중 대표적인 시설은 무엇이 있는지 파악하기가 어렵다 
3. 보다 자세한 정보를 얻고자 한다면 카카오맵으로 이동하도록 하이퍼 링크가 연결되어 있다. 그러나 어플리케이셔느로 탐색 시 기기에 카카오맵이 설치되어 있지 않아 설치에 번거로움을 느꼈다 
4. 번거로움을 감수하고 설치하였우나, 처음 사용해보는 어플리케이션이라 사용에 미숙하였다
5. 카카오맵 조작의 익숙함 정도와는 별개로 해당 어플리케이션을 통해 반경 NKm 내의 편의시설 환경을 한 눈에 파악하기는 어렵다. 지도의 확대와 축소를 여러번 반복하여 근처에 어떤 시설이 있는지 하나하나 살표보는 것이 최선이었다. 
6. 카카오맵 설치를 거부하거나 설치하였음에도 조작에 어려움을 느껴 기존의 지도 어플리케이션 (네이버 지도, 구글맵 등)의 사용을 고수할 경우, 각각의 매물마다 직방 어플리케이션과 본인의 지도 어플리케이션을 번갈아 가며 살펴보아야 한다. 

매물 탐색 과정 전반에서 위와 같은 일련의 과정을 반복적으로 경험하였다. 매물 상세페이지의 지도 부분에 위치 정보와 로드뷰 외에도 ‘해당 지역이 어떠한 시설들로 얼마나 이루어져 있는지 한눈에 파악할 수 있는 정보’가 간결하게 제시된다면, 사용자가 주거지를 결정하는데 있어서 분명한 도움이 될 것이라는 니즈가 도출되었다. 



### 1-2 Crawling  

1. 직방 		
직방 크롤링 과정에서는 필요한 데이터를 ‘직방’ 사이트에서 찾아서 데이터 프레임으로 만들어주는 함수들을SearchDatas의 이름으로 클래스화를 시켜주었다.  get_geohas를 꺼낼 시, SearchDatas.lat, SearchDatas.lng, searchDatas.geohas와 같이 불러서 꺼낼 수 있다. 나머지 함수들은 자동으로 데이터 프레임을 저장하고 리턴시킨다. SearchDatas 클래스에는 아래 함수들을 포함하였다: 
	- get_geohash(self, precision=5): 위도, 경도값을 geohash로 인코딩을 하여 객체에 저장해주는 함수. parameter는 precision 5으로 주변 반경을 뜻한다. 수정을 권하지 않음.
	- zigbang_oneroom(self): 직방 사이트에 원룸 매물에 대한 데이터를 수집한 다음 데이터 프레임에 저장해주고 리턴시켜주는 함수. 
	- zigbang_apt: 직방 사이트에 아파트 매물에 대한 데이터를 수집한 다음 데이터 프레임에 저장해주고 리턴시켜주는 함수.
	- zigbang_villa: 직방 사이트에 빌라 매물에 대한 데이터를 수집한 다음 데이터 프레임에 저장해주고 리턴시켜주는 함수.
	- zigbang_officetel: 직방 사이트에 오피스텔 매물에 대한 데이터를 수집한 다음 데이터 프레임에 저장해주고 리턴시켜주는 함수.

	자세한 코드는 “@href” Crawling document 참고 	

2. 카카오맵 
카카오맵은 Kakao api를 사용하여 크롤링을 하였다. 직방에서 가져온 매물 별 아이디값, 위치, 정보 등을 포함한 데이터 프렝미에 카카오 API 를 이용해 매물 별 생활반경 내의 편의시설을 카테고리 별로 크롤링하여 더해준다. Kakao 함수에는 다음과 같은 변수가 포함되어 있다: 
	- REST_API_KEY: kakao api key를 입력하여 카카오 맵을 크롤링 할 수 있는 키 
	- obj: category of zigbang_dataframe {“oneroom”, “apartment”, “villa”, “officetel”} 원룸, 아파트, 빌라, 오피스텔의 매물 ☆ 위치 정보 등 직방에서 크롤링 된 데이터. 
	  

### 1-3. Database
	- module.kakao: 앞선 크롤링파트의 클래스와 함수를 이용하여 카카오맵에서 매물 ☆ 인근 편의시설 정보를 크롤링한 module 
	- module.zigbang: 앞선 crawling 파트의 클래스와 함수를 이용하여 

### 1-3 Flask 


## Built With / 누구랑 만들었나요?

* [김선희](링크) - 무엇 무엇을 했어요
* [서채빈](링크) - 무엇 무엇을 했어요
* [송강](링크) - 무엇 무엇을 했어요
* [이승주](링크) - 무엇 무엇을 했어요
* [정현석](링크) - 무엇 무엇을 했어


## Contributiong / 기여

Please read [CONTRIBUTING.md](https://gist.github.com/PurpleBooth/b24679402957c63ec426) for details on our code of conduct, and the process for submitting pull requests to us. / [CONTRIBUTING.md](https://gist.github.com/PurpleBooth/b24679402957c63ec426) 를 읽고 이에 맞추어 pull request 를 해주세요.

## License / 라이센스

This project is licensed under the MIT License - see the [LICENSE.md](https://gist.github.com/PurpleBooth/LICENSE.md) file for details / 이 프로젝트는 MIT 라이센스로 라이센스가 부여되어 있습니다. 자세한 내용은 LICENSE.md 파일을 참고하세요.

## Acknowledgments / 감사의 말

* Hat tip to anyone whose code was used / 코드를 사용한 모든 사용자들에게 팁
* Inspiration / 영감
* etc / 기타
